<!DOCTYPE html>

<html>
    <head>
        <title>drawing board</title>
        <link rel="stylesheet" href="game.css">
        <script src="game.js"></script>
    </head>
    <body>
        <canvas id="drawing-board"></canvas><br>
        <!--<button id="line" onclick="">Line</button>-->
        <p id="mouse">Mouse</p>
        <script>
            var mouseX, mouseY;
            var canvas = new Canvas('drawing-board');
            var style = window.getComputedStyle(canvas.canvas);

            var id = canvas.context.createImageData(1, 1); // only do this once per page
            var d = id.data; // only do this once per page
            d[0] = 255; // red
            d[1] = 0; // green
            d[2] = 0; // blue
            d[3] = 255; // alpha

            function draw(event) {
                mousePosition(event);
                
                var coefficientX = canvas.canvas.width / Number(style.getPropertyValue('width').slice(0, 3))
                var canvasX = coefficientX * mouseX - canvas.canvas.offsetLeft / 2;
                var coefficientY = canvas.canvas.height / Number(style.getPropertyValue('height').slice(0, 3))
                var canvasY = coefficientY * mouseY - canvas.canvas.offsetTop / 2;
                canvas.context.putImageData(id, canvasX, canvasY);
            }

            document.addEventListener('click', draw);
            
            //canvas.drawLine(50, 0, 140, 100);
            document.onmousemove = mouseMovement;
            
        </script>
    </body>
</html>